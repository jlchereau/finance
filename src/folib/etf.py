"""ETF class"""

import pandas as pd

from .asset import Asset, AssetType


class ETF(Asset):
    """ETF class"""

    def __init__(self, ticker: str):
        """Constructor"""
        super().__init__(ticker)
        assert self.type == AssetType.ETF, f"{ticker} is not an ETF"

    # ----------------------------------------------------------------------------
    # General
    # ----------------------------------------------------------------------------

    # ----------------------------------------------------------------------------
    # Market data
    # ----------------------------------------------------------------------------

    @property
    def total_assets(self) -> int | None:
        """
        Total assets
        """
        if 'totalAssets' in self._yahoo_ticker.info:
            return self._yahoo_ticker.info['totalAssets']
        return None

    # ----------------------------------------------------------------------------
    # Balance sheet (only for Equity)
    # ----------------------------------------------------------------------------

    # ----------------------------------------------------------------------------
    # Income statement (only for Equity)
    # ----------------------------------------------------------------------------

    # ----------------------------------------------------------------------------
    # Cash flow statement (only for Equity)
    # ----------------------------------------------------------------------------

    # ----------------------------------------------------------------------------
    # Finance KPIs (only for Equity)
    # ----------------------------------------------------------------------------

    # ----------------------------------------------------------------------------
    # Statistics
    # ----------------------------------------------------------------------------

    # ----------------------------------------------------------------------------
    # Information report
    # ----------------------------------------------------------------------------

    @property
    def info(self):
        """Show an asset report"""
        return pd.Series({
            'date': self._date,
            # -------- General
            'symbol': self.symbol,
            'name': self.name,
            'type': self.type.name,
            'currency': self.currency,
            # -------- Market data
            'previous_close': self.previous_close,
            'total_assets': self.total_assets
        })

    # ----------------------------------------------------------------------------
    # Plots
    # ----------------------------------------------------------------------------
